diff -ur zlib-1.3/Makefile.in zlib-1.3/Makefile.in
--- zlib-1.3/Makefile.in	2023-08-18 03:45:36.000000000 -0500
+++ zlib-1.3/Makefile.in	2023-11-28 16:30:21.208777255 -0600
@@ -95,6 +95,7 @@
 	LD_LIBRARYN32_PATH=`pwd`:$(LD_LIBRARYN32_PATH) ; export LD_LIBRARYN32_PATH; \
 	DYLD_LIBRARY_PATH=`pwd`:$(DYLD_LIBRARY_PATH) ; export DYLD_LIBRARY_PATH; \
 	SHLIB_PATH=`pwd`:$(SHLIB_PATH) ; export SHLIB_PATH; \
+	LIBPATH=`pwd`:$(LIBPATH) ; export LIBPATH; \
 	TMPSH=tmpsh_$$; \
 	if echo hello world | ${QEMU_RUN} ./minigzipsh | ${QEMU_RUN} ./minigzipsh -d && ${QEMU_RUN} ./examplesh $$TMPSH; then \
 	  echo '		*** zlib shared test OK ***'; \
@@ -306,9 +307,6 @@
 	-@if [ ! -d $(DESTDIR)$(man3dir)      ]; then mkdir -p $(DESTDIR)$(man3dir); fi
 	-@if [ ! -d $(DESTDIR)$(pkgconfigdir) ]; then mkdir -p $(DESTDIR)$(pkgconfigdir); fi
 	rm -f $(DESTDIR)$(libdir)/$(STATICLIB)
-	cp $(STATICLIB) $(DESTDIR)$(libdir)
-	chmod 644 $(DESTDIR)$(libdir)/$(STATICLIB)
-	-@($(RANLIB) $(DESTDIR)$(libdir)/libz.a || true) >/dev/null 2>&1
 	-@if test -n "$(SHAREDLIBV)"; then \
 	  rm -f $(DESTDIR)$(sharedlibdir)/$(SHAREDLIBV); \
 	  cp $(SHAREDLIBV) $(DESTDIR)$(sharedlibdir); \
diff -ur zlib-1.3/configure zlib-1.3/configure
--- zlib-1.3/configure	2023-08-18 03:45:36.000000000 -0500
+++ zlib-1.3/configure	2023-11-28 16:26:15.257218360 -0600
@@ -257,7 +257,8 @@
             SHAREDLIB='libz.sl' ;;
         esac ;;
   AIX*)
-        LDFLAGS="${LDFLAGS} -Wl,-brtl" ;;
+        LDSHARED=${LDSHARED-"$cc -shared -Wl,-G"}
+        LDFLAGS="${LDFLAGS}" ;;
   Darwin* | darwin* | *-darwin*)
         shared_ext='.dylib'
         SHAREDLIB=libz$shared_ext
